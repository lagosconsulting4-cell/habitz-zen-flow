Seja muito bem-vindo ao tutorial mais aguardado do meu canal, onde você vai fazer com que o seu sistema do Loable permita pagamentos via Pix. Eu tenho certeza que você que já me acompanha há um tempo estava esperando muito por esse momento e hoje eu trouxe exatamente esse tutorial para você.
E um spoiler que eu já te dou é que se você ficar até o final desse vídeo, você vai ver que é uma forma muito fácil e também muito barata de você ter essa integração. Então vamos lá, sem mais delongas, vamos direto para o nosso vídeo.
Se você não me conhece, seja muito bem-vindo ao canal. Meu nome é Rafael, mais conhecido como Rafa Voz. E aqui você aprende tudo que você precisa sobre o Loable e como criar plataformas como SaaS, E-commerces, Landing Pages, qualquer tipo de aplicação web, sem precisar programar, apenas utilizando inteligência artificial.
Se você gosta desse tipo de conteúdo, já deixe seu like, se inscreve no canal. Eu venho fazendo tutoriais incríveis há meses aqui para vocês. Ainda tem muita coisa boa por vir. E obviamente se você já está aqui há um tempo, já deixa seu like, porque esse vídeo, como eu falei lá na introdução, foi um dos mais pedidos aqui no canal. E como vocês que coordenam esse canal, eu trouxe agora para você.
Então vamos lá, vamos fazer essa integração que é muito simples. Bom, pessoal, então a primeira coisa que a gente tem que fazer, obviamente, é criar o nosso sistema. Nesse caso, nesse exemplo que eu vou estar fazendo aqui, eu vou estar fazendo bem rápido pra gente chegar logo à etapa que a gente precisa, que é a parte de integrar com Pix, tá?
Mas basicamente eu vou fazer um e-commerce muito simples aqui, que inclusive vai ter só um produto nesse e-commerce, uma página com carrinho, né, desse e-commerce, onde a pessoa pode adicionar quantos desse produto ela quer comprar e depois, na parte de checkout, a gente começa todo esse processo.
Bom, então a página aqui foi criada, né? O que eu fiz foi pular um pouquinho o processo, mas eu só mandei duas prompts. Primeiro, eu só pedi para ele criar um e-commerce aí de um produto só que tenha a página de carrinhos, porque vai ser importante pra gente fazer ali a solicitação para ir pro checkout ou para emitir ali um Pix Code pra gente. E depois eu só conectei com o meu Supabase, né? Lembrando que o que eu aconselho você sempre a fazer, só conectar depois que todo o seu e-commerce já tiver pronto, se você estiver fazendo e-commerce assim como eu. Mas como eu estou aqui focando só em a gente aprender como que faz a integração com Pix, eu pulei um pouquinho a setup.
Então, beleza, pessoal, o que que a gente vai fazer a partir de agora, né? Porque como é que está funcionando toda essa dinâmica? Tem aqui o nosso produto, tem o preço dele aqui embaixo, né? Todas as características. Eu posso escolher um tamanho que eu queira, por exemplo, 41, adicionar no carrinho. Ele adiciona no carrinho aqui e na hora de finalizar a compra, ele mostra aqui uma animação dizendo que ele está te redirecionando. Mas isso é só para a gente ver que é nesse momento que ele vai te redirecionar a gente ou para um checkout ou então para aparecer aqui o Pix para a gente pagar.
Mas o que a gente precisa fazer agora é integrar o Loable com algum meio de pagamento que aceite Pix. Existem vários meios de pagamentos aí no mercado e por isso que eu demorei um pouquinho para trazer para vocês, porque eu acredito que quando uma pessoa está desenvolvendo com Loable ou qualquer outra inteligência artificial aí que você queira desenvolver, ela não tem um background muito grande de programação. Então, obviamente ela quer que seja uma integração mais fácil.
E além de ser uma solução fácil, eu também imagino que ao mesmo tempo ela esteja buscando uma solução que seja barata, porque realmente se você vai transferir um Pix agora para um amigo seu ou para algum familiar, por enquanto, até o momento que está sendo gravado esse vídeo, não tem taxa nenhuma. Só que quando você integra com meio de pagamento, obviamente a gente vai estar utilizando essa tecnologia do Pix dentro do seu software e isso tem uma taxinha que esses meios de pagamento oferecem para a gente.
Então, buscando uma facilidade na integração e menor custo de emissão de Pix, é por isso que eu demorei muito, que eu analisei com muito cuidado essa plataforma, eu trago para vocês aqui a Abacat Pay. Eu não estou sendo patrocinado nem nada por essa plataforma, tá? Eu realmente estou recomendando ela porque eu estou utilizando em todas as soluções que eu venho desenvolvendo e é uma plataforma que vem crescendo muito aqui no Brasil.
Se você der uma pequena pesquisada aí no YouTube, você vai ver que vários influenciadores focados em tecnologia, desenvolvedores, estão recomendando muito essa plataforma a partir de agora. Então isso realmente mostra a credibilidade que eles estão ganhando com o tempo.
E como é que funciona essa etapa aqui, pessoal? A primeira coisa que você vai fazer é entrar no link da Abacat Pay, que eu vou deixar aqui embaixo na descrição. Depois você clica aqui em "criar uma conta grátis". Uma vez que você clicar lá, ele já vai direcionar aqui para você criar sua conta e você pode já entrar com a sua conta do Google, criar uma conta a partir do zero.
Criada a sua conta aqui, você vai ser direcionado a esse dashboard que vai estar igualzinho aqui à minha versão aqui que vocês estão vendo, tá? Obviamente a gente está utilizando o modo teste e para quem já utilizou a API da Stripe já no passado, isso aqui é muito parecido, né? Ele tem um modo teste onde a gente pode simular ali alguns pagamentos para ver se está funcionando e depois que tudo tiver certinho, a gente pode transferir esse modo teste para o modo de produção, fazendo que a gente possa de fato receber pagamento com ela. Então, realmente esse modo teste ele serve pra gente poder testar essa integração. Então, beleza, a gente já tem aqui a nossa conta do Abacat Pay.
Paralelo a essa página aqui, eu vou clicar aqui na página de documentação para deixar ela aberta aqui do lado para mim, tá? Então, aqui vai ter uma página onde você pode criar suas chaves API, né? E obviamente para você criar uma chave API aqui é muito fácil, é só você clicar aqui em "criar chave API". Você coloca um nome, eu coloquei aqui "Loable", salvar. E olha só, ele já criou aqui a nossa chave API. Agora basta a gente copiar ela.
Uma vez copiada, a gente volta aqui pro nosso projeto dentro do Loable, tá? Que é esse daqui. E vocês lembram que eu falei que o Abacat Pay é uma plataforma que, ao contrário de qualquer outra que você vê no mercado, é muito fácil de você integrar. Exatamente por isso daqui agora.
Então eu coloquei aqui, olha só, quando o usuário clicar em finalizar a compra, clicar bem aqui, abre um pop-up. Nesse pop-up deve ser pedido nome, telefone, e-mail e CPF de quem está comprando e um botão ali que serve para criar o QR Code, que vai ser o QR Code Pix que a gente vai estar utilizando. Quando o usuário clicar, abrirá um QR Code que será gerado via API do Abacat Pay.
Então, olha só, a gente não está mandando aqui nenhuma parte da documentação ainda, tá? Só manda e eu abri ali para caso de algum problema aqui na parte. Quando o usuário clicar, abrirá um QR Code que será gerado via API da Abacat Pay. Olha só, o Loable, ele já entende o que que é Abacat Pay. Então, integre com Abacat Pay para que esse processo ocorra e vou mandar para ele.
Enquanto ele está criando aqui a integração com o Abacat Pay, uma coisa que eu quero deixar claro para você que principalmente é novo aqui no canal é que eu tenho um curso e uma comunidade chamada Loable Pro, onde lá você aprende tudo que você precisa para criar qualquer tipo de modelo de negócio que você queira, apenas utilizando inteligência artificial, sem programação nenhuma. Lá você aprende o Loable do zero até o avançado, você aprende a como integrar e também a mexer no n8n do zero até o avançado e também vários projetos incríveis que eu já criei por lá.
Além disso, você também ganha acesso à maior comunidade com todos os alunos desse curso, onde você pode tirar dúvidas, fazer networking e sugerir novas aulas pro curso. Inclusive, essa aula que você está vendo aqui faz parte do nosso mais novo módulo chamado Meios de Pagamentos. Nele você aprende a não só integrar o Pix, como você já está vendo nessa aula, mas também diversas outras formas de você utilizar o Pix dentro do seu software, além de outros meios de pagamento que você também vai aprender por lá, como emissão de boleto, Pix, né, que você viu aqui, Stripe, enfim, vários outros que o pessoal lá da comunidade vem sugerir. O link para essa comunidade vai estar aqui embaixo, é o primeiro link na descrição.
Bom, pessoal, então olha só, ele disse pra gente aqui que ele implementou o sistema completo de checkout com integração com Abacat Pay. Agora você precisa configurar a chave API do Abacat Pay para que funcione. Então a experiência do usuário, ele até explica aqui como é que vai ser. O usuário clica em finalizar compra, preenche os dados do pop-up, clica em "gerar QR Code Pix", o sistema gera um QR Code via Abacat Pay, o usuário escaneia e paga via Pix.
E aqui embaixo, olha só, em "Add API Key", a gente clica, a gente não pode nunca, isso daqui já é uma das maiores dicas de segurança que tem aqui do Loable, a gente não pode nunca mandar como uma prompt aberta. A gente tem que clicar e colocar aqui dentro a nossa chave API, tá? Então, para garantir, eu vou voltar ali no nosso painel, tá? Bem aqui, vou clicar em "copiar chave", vou vir aqui no nosso sistema e colar a chave do Abacat Pay. Vamos submit.
Bom, então aqui eu vou testar, né? Eu já coloquei aqui um tênis no nosso carrinho. Vou colocar meu nome, meus dados todos aqui. Coloquei então, todos os dados aqui, meu nome, telefone, e-mail e também meu CPF, tá? Aqui você tem que colocar um CPF válido mesmo se você estiver testando, tá? Senão não vai funcionar. Porque lá na Abacat Pay ele faz essa checagem para ver se o CPF existe. E a gente clica em "gerar QR Code Pix". Mas vamos ver se ele vai funcionar. Clico aqui e olha só, "não foi possível gerar o QR Code. Tente novamente."
Por que disso? Quando a gente vem aqui no nosso Loable, se você parar para pensar, né, e der uma lida aqui, você vai ver que ele criou um sistema de checkout que está totalmente funcional. Que que você já imagina disso? Que ele está esperando ir para uma nova página onde vai ser um checkout. Só que agora a gente quer o sistema aqui dentro da nossa aplicação, como se fosse um checkout transparente.
Então o que que eu escrevi aqui para ele, tá? Eu tirei print do nosso erro e coloquei: "Deu problema na hora de gerar o Pix QR Code. Para criar o QR Code você tem que fazer uma chamada API nesse formato." Qual que é o formato? Se a gente vem aqui na nossa API, né, na verdade na nossa documentação aqui do Abacat Pay, vocês vão ver aqui do lado, ó, que tem aqui, ó, "Pix QR Code", que é exatamente o que a gente precisa. E aqui é uma documentação que, ó, não tem aqueles textos todos, é bem mais simples. Então, olha só, ele diz aqui que o Pix QR Code, né, esse QR Code Pix, permite que você crie um código que é copia e cola e um QR Code Pix para o seu cliente fazer pagamento.
E como que você faz essa integração? Você precisa fazer essa requisição aqui, tá bom? Lembre-se que você tem que selecionar aqui JavaScript, tá? Porque a linguagem que a gente está utilizando lá por ser no Loable é no JavaScript. Então, a gente copia isso tudo, é só clicar aqui em cima e manda aqui para ele, ó. Eu coloquei entre aspas exatamente a requisição. Isso é um exemplo de requisição, é um exemplo de estrutura que a API está esperando que a gente envie para ela. Não adianta a gente enviar os dados de qualquer jeito, precisa ser no formato que ela aceita.
Embaixo eu deixei mais claro ainda, ou seja, você tem que enviar todos os campos, name, cellphone, e-mail, tax, que é exatamente o CPF, só que ele chama aqui de tax ID, que aparecem no formulário, pois são obrigatórios. E também o valor do carrinho. Isso é muito importante. A resposta correta que você irá receber é essa. E olha só, lá na documentação ele diz, ó, essa resposta aqui que normalmente a gente vai receber é nessa estrutura para ele já entender. E eu colei aqui a nossa resposta, tá? Agora vou enviar para ele e vamos ver se agora ele começa a entender mais como que funciona essa integração.
Diz ele que agora já está tudo OK, né? Se a gente vê aqui, olha só, vejo o problema. O endpoint está incorreto, os campos não estão sendo enviados de forma correta. Agora ele está enviando e vamos tentar aqui fazer uma simulação. Então vou abrir aqui novamente o preview e olha só, eu vou vir aqui, já tem alguns itens no carrinho, né? Eu vou pagar, né? Vamos ficar com essa cobrança de R$ 299,90. E vamos clicar em "finalizar compra". Agora vou colocar aqui meu nome, meu telefone. Então eu coloquei aqui meu nome, meu telefone, o e-mail, CPF e vou clicar em "gerar QR Code Pix".
E olha só, ele gerou o nosso Pix QR Code aqui. Aqui tem todos os dados. A gente tem aqui embaixo também o código do nosso Pix, né? E agora a gente pode fazer esse pagamento. Só que a gente, primeiro de tudo, a gente está simulando isso, né? A gente não quer de fato só para testar, tem que mandar um Pix aqui de R$ 299 ou qualquer valor que seja, mesmo que seja mais baixo.
Como é que a gente pode fazer para simular só esse pagamento, né? Para isso, a gente vem aqui no nosso Abacat Pay, no nosso dashboard, né? E vem aqui embaixo em "cobranças". Aqui vocês vão ver exatamente as cobranças que estão sendo feitas agora. Então, olha só, está aqui exatamente o valor R$ 299,90 pendente. Então, pra gente simular esse pagamento, é só clicar aqui em "simular pagamento". E olha só, clicar em "simular". Com isso, o nosso pagamento agora ele foi efetuado.
Bom, mas beleza, o nosso QR Code já está aqui. Mas e agora, né? A gente já emitiu o nosso QR Code, a gente já fez com que o Abacat Pay soubesse de que o pagamento foi feito, né? Porque a gente clicou ali em "simular pagamento", só que agora essa informação precisa chegar aqui de novo pra gente.
E tem duas formas da gente fazer isso, né? Ou é a forma tradicional da gente fazer uma conexão via webhook, então a gente ter ali uma checagem de webhook toda hora a cada 3 segundos. Ou então para ter uma experiência muito parecida com os marketplaces mais tradicionais que a gente tem, eu vou fazer uma outra requisição API. Agora vai ser uma requisição GET, né? Ou seja, a gente vai pegar uma informação de que foi pago lá do nosso Abacat Pay.
Então para isso, a gente vem aqui na documentação e vem nessa parte aqui de "checar status", tá? Porque a gente fez aqui a requisição POST, olha só que a gente enviou aqui as informações de telefone, o CPF, o número, na verdade, o valor do produto, né? Só que agora a gente quer receber. Então a gente pega aqui o GET, né? A gente utiliza o GET com uma requisição que a gente vai estar fazendo via API do Loable do nosso projeto para cá, para dentro do Abacat Pay.
Então, a gente vem aqui no "checar status" e aqui a gente vai mais uma vez ter que explicar para ele como que vai funcionar essa nossa API. Então, como é que vai ser? A gente vem aqui no nosso Loable e vou digitar para ele. Então eu coloquei aqui: "Quando o usuário tiver com o QR Code na tela, ou seja, naquela hora que a gente está bem aqui, ó, tem que ter um botão aqui embaixo, assim como os marketplaces que a gente já está acostumado, né, dizendo 'já efetuei o pagamento'."
"Isso fará uma requisição à API do Abacat Pay para verificar se o pagamento específico foi efetuado. Se sim, deve aparecer uma tela: 'Obrigado pela sua compra. Seu produto chegará em sua casa.'" E aqui embaixo eu coloco "requisição API para checagem. GET é essa daqui." Então abro aspas, copia aqui no "checar status", ó. Por isso que essa documentação é legal de você ter aberto. Garante que você está na linguagem JavaScript, né? Cola, fecha aspas e a resposta quando der certo deve ser nesse formato. Abre aspas, fecha aspas e aqui no meio das aspas eu vou colocar essa resposta aqui que é "200" nesse formato, né? Se tiver "pending", quer dizer que não foi ainda. E agora eu envio e vamos ver o que que o Loable vai fazer pra gente.
Diz ele aqui que ele já configurou. Vamos mais uma vez abrir uma aba. Eu já tinha ela aberta, mas enfim. Vamos abrir uma nova. Já tem aqui um produto no nosso carrinho. Vamos clicar aqui em "finalizar a compra", colocar os dados novamente. Aqui já vai ser um pouquinho mais rápido, né? Hã, e aqui o CPF. Lembrando que tem que ser um CPF válido, tá? Não adianta colocar um CPF qualquer, gerar o Pix QR Code. Beleza, tranquilo. Ele vai estar aqui aguardando, né? Vamos clicar em "Já efetuei o pagamento".
Na verdade, antes da gente clicar, vamos lá no Abacat Pay, vamos na parte de "cobranças" e olha só, está bem aqui a nossa requisição. Vamos clicar em "simular pagamento". Sim, "simular". Então ele vai basicamente mostrar ali que o pagamento foi feito. Então a gente já conseguiu criar o nosso QR Code. A gente já simulou o pagamento lá na Abacat Pay. A gente clicar aqui e olha só, "Obrigado pela compra. Seu produto chegará em sua casa com valor de R$ 99,90."
E agora você já sabe fazer essa integração do Pix com o seu sistema no Loable. Então é basicamente assim que você faz sua integração do seu sistema do Loable com o Pix. Eu achei que ficou super legal essa integração junto com o Abacat Pay, exatamente por isso que eu trouxe esse vídeo. Mas por mais que o Loable conheça o Abacat Pay quando você cita para ele, essa integração ainda precisa ser feita em conjunto com a documentação.
Qualquer problema que você tiver em relação a alguma requisição que você estiver enviando, sempre pega a documentação, manda lá para ele de novo. Olha, eu quero que você envie os dados assim, receba dessa forma, que você vai ver, assim como a gente fez ao longo desse vídeo, que o Loable vai entender como é o processo, como fazer essa requisição e vai fazer todo esse processo para você.
Quer aprender a mexer de fato no Loable, aprender a fazer várias soluções incríveis como SaaS, Landing Pages, E-commerces, enfim, aprender a utilizar o Pix diversas outras formas e não só um checkout transparente como a gente fez, mas também utilizando o checkout da Abacat, que é super interessante? Eu convido você ao melhor e maior curso do mundo de Loable. O link é o primeiro aqui embaixo na descrição.
Mas é isso, muito obrigado por você ter ficado até aqui. Eu venho agradecendo muito vocês e por isso que eu trouxe esse vídeo também, por todo o apoio que vocês têm me dado nos últimos meses. O canal vem crescendo muito rápido e eu sou realmente muito grato por isso. Te vejo numa próxima."